
<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />

  <!-- Set the viewport width to device width for mobile -->
  <meta name="viewport" content="width=device-width" />

  <title> hipMe! </title>

  <!-- Included CSS Files -->

  {% load staticfiles %}

  <link rel="stylesheet" href="{% static "css/normalize.css" %}"/>
  <link rel="stylesheet" href="{% static "css/foundation.css" %}"/>
  <link rel="stylesheet" href="{% static "css/add_general.css" %}"/>
  <link rel="stylesheet" href="{% static "css/add_mixtape.css" %}"/>
  <link rel="stylesheet" href="{% static "css/add_mixtape_form.css" %}"/>
  <link rel="stylesheet" href="{% static "css/add_left_nav.css" %}"/>
  <link rel="stylesheet" href="{% static "css/add_landing.css" %}"/>

  <script type="text/javascript" src="{% static "js/vendor/custom.modernizr.js" %}"></script>

  <link href="{% static 'css/chosen.css' %}" rel="stylesheet">
  <script type="text/javascript" src="{% static 'js/chosen.jquery.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/jquery-1.4.1.js' %}"></script>

  <script>
   $(document).ready( function() { 
        // chosen select
        $(".chzn-select").chosen({no_results_text: "No results matched"});
    });
    </script>

</head>

<body>

  <!-- Header and Nav -->

<div class="fixed contain-to-grid">
  <nav class="top-bar">
    <ul class="title-area">
      <!-- Title Area -->
      <li class="name">
        <h1><a href="/feed/"> hipMe! </a></h1>
      </li>
      <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <section class="top-bar-section">
      <!-- Left Nav Section -->
      <ul class="left">
        <li class="divider"></li>
        <li>
          <a href="/feed/"> Stream </a>
        </li>
        <li class="divider"></li>
        <li>
          <a href="/profile/{{ request.user.username }}/"> 
            {% if user.avatar %}
              <img src="adresse de l'avatar" alt="profile_top_img" class="profile_top_img" width="32"/>
            {% else %}
              <img src="{% static "img/default.jpg" %}" alt="profile_top_img" class="profile_top_img" width="32"/>
            {% endif %}
            {{ request.user.username }}
          </a>
        </li>
        <li class="divider"></li>
        <li class="has-form"><button class="small top_bar_button" data-reveal-id="tracklistModal"> New Mixtape </button></li>
      </ul>

      <!-- Right Nav Section -->
      <ul class="right">
        <li class="has-form">
          <form>
            <div class="row collapse">
              <div class="small-8 columns">
                <input type="text">
              </div>
              <div class="small-4 columns">
                <a href="#" class="alert button">Search</a>
              </div>
            </div>
          </form>
        </li>
        <li class="divider"></li>
        <li class="has-dropdown"><a href="#"> More </a>
          <ul class="dropdown">
            <li><a href="#"> Settings </a></li>
            <li><a href="#"> Explanatory tour </a></li>
            <li><a href="/logout/process/"> Log out </a></li>
          </ul>
        </li>
      </ul>
    </section>
  </nav>
</div>

  <!-- End Header and Nav -->

<div class="row page_content">

  <!-- Left nav -->
    
    <div class="small-3 columns">

  <!-- Left-ranking -->

      <ul class="no-bullet left_ranking">
        <li class="left_ranking_1 left_ranking_opacity_low">
          <div class="row">
            <div class="small-12 columns">
            {% include "hip_engine/snippet_mini_profile_ranking.html" %}
            </div>
          </div>
        </li>
        <li class="left_ranking_2 left_ranking_opacity_med">
          <div class="row">
            <div class="small-12 columns">
            {% include "hip_engine/snippet_mini_profile_ranking.html" %}
            </div>
          </div>
        </li>
        <li class="left_ranking_3">
          <div class="row">
            <div class="small-12 columns">
            {% include "hip_engine/snippet_mini_profile_ranking.html" %}
            </div>
          </div>
        </li>
        <li class="left_ranking_4 left_ranking_opacity_med">
          <div class="row ">
            <div class="small-12 columns">
            {% include "hip_engine/snippet_mini_profile_ranking.html" %}
            </div>
          </div>
        </li>
        <li class="left_ranking_5 left_ranking_opacity_low">
          <div class="row">
            <div class="small-12 columns">
            {% include "hip_engine/snippet_mini_profile_ranking.html" %}
            </div>
          </div>
        </li>
        <li>
          <div class="row">
            <div class="small-12 columns text-center full_ranking_link_zone">
              <a href="#" class="full_ranking_link"> See full ranking </a>
            </div>
          </div>
        </li>
      </ul>

        <!-- End Left-ranking -->

        <!-- Left stats -->

      <div class="panel hipme_site_stats">
        <h5> hipMe! </h5>
        <ul class="no-bullet">
          <li> {{nb_mixtapes}} mixtapes created </li>
          <li> {{nb_users}} registered users </li>
          <li> {{nb_tracks}} songs discovered </li>
          <li> Keep da hip... </li>
        </ul>
      </div>
    </div>

  <!-- End Left stats -->

  <!-- Main Feed -->

  <div class="small-9 columns">

    {% block feed_header %}
    {% endblock feed_header %}

    {% block feed_nav %}
    {% endblock feed_nav %}

    {% block main_feed %}
    {% endblock main_feed %}

  </div>

  <!-- End Main Feed -->

  <!-- Footer -->

  <footer class="row">
    <div class="large-12 columns">
      <hr />
      <div class="row">
        <div class="large-5 columns">
          <p>&copy; Copyright HipMe.</p>
        </div>
        <div class="large-7 columns">
          <ul class="inline-list right">
            <li><a href="#">About</a></li>
            <li><a href="#">Media</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  {% include "hip_engine/snippet_form/snippet_form_tracklist.html" %}
  {% include "hip_engine/snippet_form/snippet_form_close_mixtape.html" %}

  <script>
  document.write('<script src={% static "js/vendor/" %}' +
  ('__proto__' in {} ? 'zepto' : 'jquery') +
  '.js><\/script>')
  </script>

  <script src="{% static "js/foundation.min.js" %}"></script>

<!-- scripts mixtape creation modal-->

  <script>
    $('.add_track_btn_1').click(function(){
      $(".add_track_form_1").show();
      $(".add_track_row_1").hide();
      $("#create_url_1").focus();
    });
  </script>

  <script>
    $('.add_track_btn_2').click(function(){
      $(".add_track_form_2").show();
      $(".add_track_row_2").hide();
      $("#create_url_2").focus();
    });
  </script>

  <script>
    $('.add_track_btn_3').click(function(){
      $(".add_track_form_3").show();
      $(".add_track_row_3").hide();
      $("#create_url_3").focus();
    });
  </script>

  <script>
    $('.add_track_cancel_1').click(function(){
      $(".add_track_form_1").hide();
      $(".add_track_row_1").show();
      document.getElementById('create_url_1').value = '';
      document.getElementById('create_artist_1').value = '';
      document.getElementById('create_track_1').value = '';
    });
  </script>

  <script>
    $('.add_track_cancel_2').click(function(){
      $(".add_track_form_2").hide();
      $(".add_track_row_2").show();
      document.getElementById('create_url_2').value = '';
      document.getElementById('create_artist_2').value = '';
      document.getElementById('create_track_2').value = '';
    });
  </script>

  <script>
    $('.add_track_cancel_3').click(function(){
      $(".add_track_form_3").hide();
      $(".add_track_row_3").show();
      document.getElementById('create_url_3').value = '';
      document.getElementById('create_artist_3').value = '';
      document.getElementById('create_track_3').value = '';
    });
  </script>

  <script>
    $('.close_mixtape_form').click(function(){
      document.getElementById('create_url_1').value = '';
      document.getElementById('create_artist_1').value = '';
      document.getElementById('create_track_1').value = '';
      document.getElementById('create_url_2').value = '';
      document.getElementById('create_artist_2').value = '';
      document.getElementById('create_track_2').value = '';
      document.getElementById('create_url_3').value = '';
      document.getElementById('create_artist_3').value = '';
      document.getElementById('create_track_3').value = '';
      $(".add_track_form_1").hide();
      $(".add_track_form_2").hide();
      $(".add_track_form_3").hide();
      $(".add_track_row_1").show();
      $(".add_track_row_2").show();
      $(".add_track_row_3").show();
    });
  </script>

<!-- scripts mixtape game -->

 <script>
    $('.liked_mxtp_btn').each(function(i){
      $(this).mouseover(function(){
        $(".liked_mxtp_btn:eq("+ i + ")").hide();
        $(".unlike_mxtp_btn:eq("+ i + ")").show();
      });
    });
  </script>

   <script>
    $('.unlike_mxtp_btn').each(function(i){
      $(this).mouseout(function(){
        $(".unlike_mxtp_btn:eq("+ i + ")").hide();
        $(".liked_mxtp_btn:eq("+ i + ")").show();
      });
    });
  </script>


 <script>
    $('.kept_track_btn').each(function(i){
      $(this).mouseover(function(){
        $(".kept_track_btn:eq("+ i + ")").hide();
        $(".unkeep_track_btn:eq("+ i + ")").show();
      });
    });
  </script>

 <script>
    $('.unkeep_track_btn').each(function(i){
      $(this).mouseout(function(){
        $(".kept_track_btn:eq("+ i + ")").show();
        $(".unkeep_track_btn:eq("+ i + ")").hide();
      });
    });
  </script>

  <script>
    $('.display_tracks_btn').each(function(i){
      $(this).click(function(){
        $(".mixtape_header_owner:eq("+ i + ")").hide();
        $(".mixtape_header_contributors_and_featuring:eq("+ i + ")").hide();
        $(".display_tracks_btn_zone:eq("+ i + ")").hide();
        $(".show_add_track_form_btn_zone:eq("+ i + ")").show();
        $(".hide_tracks_btn_zone:eq("+ i + ")").show();
        $(".bundle_list:eq("+ i + ")").show();
      });
    });
  </script>

  <script>
    $('.hide_tracks_btn').each(function(i){
      $(this).click(function(){
        $(".show_add_track_form_btn_zone:eq("+ i + ")").hide();
        $(".hide_tracks_btn_zone:eq("+ i + ")").hide();
        $(".bundle_list:eq("+ i + ")").hide();
        $(".mixtape_header_owner:eq("+ i + ")").show();
        $(".mixtape_header_contributors_and_featuring:eq("+ i + ")").show();
        $(".display_tracks_btn_zone:eq("+ i + ")").show();
      });
    });
  </script>

  <script>
    $('.show_add_track_form_btn').each(function(i){
      $(this).click(function(){
        $(".show_add_track_form_btn_zone:eq("+ i + ")").hide();
        $(".hide_tracks_btn_zone:eq("+ i + ")").hide();
        $(".mixtape_add_track_info:eq("+ i + ")").show();
        $(".mixtape_add_track_form_zone:eq("+ i + ")").show();
        $("#input_url").focus();
      });
    });
  </script>

  <script>
    $('.mixtape_add_track_cancel').each(function(i){
      $(this).click(function(){
        $(".mixtape_add_track_info:eq("+ i + ")").hide();
        $(".mixtape_add_track_form_zone:eq("+ i + ")").hide();
        $(".show_add_track_form_btn_zone:eq("+ i + ")").show();
        $(".hide_tracks_btn_zone:eq("+ i + ")").show();
      });
    });
  </script>

  <script>
    $('.track_play_btn').each(function(i){
      $(this).click(function(){
        $(".track_pause_btn").hide();
        $(".track_play_btn").show();
        $(".track_container").removeClass('track_container_is_playing');
        $(".track_play_btn:eq("+ i + ")").hide();
        $(".track_pause_btn:eq("+ i + ")").show();
        $(".track_container:eq("+ i + ")").addClass('track_container_is_playing');
      });
    });
  </script>

  <script>
    $('.track_pause_btn').each(function(i){
      $(this).click(function(){
        $(".track_pause_btn:eq("+ i + ")").hide();
        $(".track_play_btn:eq("+ i + ")").show();
        $(".track_container:eq("+ i + ")").removeClass('track_container_is_playing');
      });
    });
  </script>

<!-- scripts profile -->

  <script>
    $('.profile_flw_btn').each(function(i){
      $(this).click(function(){
        $(".profile_flw_btn:eq("+ i + ")").hide();
        $(".profile_unflw_btn:eq("+ i + ")").show();
      });
    });
  </script>

    <script>
    $('.profile_unflw_btn').each(function(i){
      $(this).click(function(){
        $(".profile_flw_btn:eq("+ i + ")").show();
        $(".profile_unflw_btn:eq("+ i + ")").hide();
      });
    });
  </script>

<!-- scripts left ranking -->

  <script>
    $('.left_ranking').mouseover(function(){
      $(".left_ranking_1").removeClass('left_ranking_opacity_low');
      $(".left_ranking_2").removeClass('left_ranking_opacity_med');
      $(".left_ranking_4").removeClass('left_ranking_opacity_med');
      $(".left_ranking_5").removeClass('left_ranking_opacity_low');

    });
  </script>

  <script>
    $('.left_ranking').mouseout(function(){
      $(".left_ranking_1").addClass('left_ranking_opacity_low');
      $(".left_ranking_2").addClass('left_ranking_opacity_med');
      $(".left_ranking_4").addClass('left_ranking_opacity_med');
      $(".left_ranking_5").addClass('left_ranking_opacity_low');
    });
  </script>

  <script>
    $(document).foundation();
    $(".chzn-select").chosen()
  </script>
  
</body>
</html>
